# 特徴/機能一覧

## USB/BLEでの接続
- BLE Micro Proを1台使用した一体型キーボードの完全無線化
  - Naked60BMPのような一体型キーボードの場合、Pro MicroをBLE Micro Proに置き換えることで無線化できます
  - 消費電力はマスター側で\~100uAで、300mAhの電池を使うと3000時間もつ計算です

- BLE Micro Proを2台使用した分割キーボードの完全無線化
  - HelixやErgo42のような分割型の自作キーボードを完全無線化できます
  - 消費電力はマスター側で\~300uA、スレーブ側で\~100uA程度で、300mAhの電池を使うと1000時間もつ計算です

- BLE Micro ProとLPME-IOを使用した部分無線化
  - 分割キーボードの片方にBLE Micro Proを、もう一方にLPME-IOを搭載することで左右の通信は有線、デバイスとの通信は無線という構成が実現できます
    - LPME-IOを使用するにはキーボード基板がI2Cによる左右の通信に対応している必要があります 


## プログラミングレスでのファームウェア更新・設定変更・キーマップ書き換え
  - BLE Micro Proをパソコンに接続するとUSBドライブとして認識され、中のjsonファイルを書き換えることでキーボードの設定やキーマップを書きかえることができます。そのため、取り付けるキーボードを変えたりキーマップを変えたりするときにプログラミングしなおす必要がありません。
  - ブートローダー起動時もUSBドライブとして認識され、ファームウェアをドラッグアンドドロップすることでアップデートできます
  - 設定・キーマップはjsonファイルを直接書き換えるほか、[Web Configurator](getting_started.md#ble-micro-pro-web-configuratorを使う)やQMK Configurator, VIA Configuratorを使って変更することもできます
  - セキュリティの都合等でUSBドライブとして認識されると困る場合には無効化できます

## その他

- 穴径がコンスルーに対応しているため、コンスルーを使う場合はハンダ付け不要
- BLEの接続状況を示すためのインジケータLED（ディスクリートのLEDによる）
- 無線接続中、一定時間の間に入力がないと自動的に省電力モードに移行（無効化可）
- BLEのサポートが弱いOSや相性が悪いデバイスの対策として、[BLE/USB HIDをブリッジ](bridge_dongle.md)するためのファームウェアを用意

## QMKの機能対応状況
|機能|対応|補足|
|--|--|--|
|キーボード|✔|
|マウス|✔|
|System/Consumer(音量など)|✔|
|エンコーダ|✔|
|VIA|✔|LEDは未対応。0.10.2からマクロに対応|
|Console|✔|HIDではなくシリアルポートによる実装。print/dprintに加えて[CLI](cli.md)を提供|
|Raw|✔|
|DynamicKeymap|✔|QMKの実装とはことなるが同等の機能を提供|
|LED|✔|USB電源駆動時のみ。左右同期も実装済み|
|OLED|✔|
|eeprom|✔|自動保存は無効にしているため、明示的に保存を指令する必要あり|
|SPI|✔|
|I2C|✔|
|Analog|✔|17,18,20番ピンのみ|
|Audio|❌|
|NKRO|❌|
|PS/2|❌|
|USART|❌|

## ハードウェア仕様

### 電源
以下の二系統から供給可能。RAW, VCCからの供給がBATより優先される
  - BAT (1.7V--3.6V)
  - RAW or VCC (3V--5V)
    - ただし、RAW, VCC >= BATのときのみ

### 入出力
  - 電源電圧か3.3Vの低い方 (**5Vトレラントではありません**)
  - 5・6番ピン(Pro MicroのSDA・SCL)のみFETによるレベルシフト回路を実装

### 接続確認済みデバイス

- Windows10, Android5.0.2, Raspbianとの接続を確認しています。ただし、使用するbluetoothアダプタによっては接続が不安定になることがあります。
- [BLE-USB HIDブリッジドングル](bridge_dongle.md)を使うことでOSに依存せずに無線接続できます
